{"openapi":"3.1.0","info":{"title":"Avrioc","license":{"name":"All Right Reserved"},"version":"0.0.5"},"paths":{"/api/auth/login":{"post":{"tags":["authentication"],"summary":"Login User","operationId":"login_user_api_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginCredentials"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/forgot/password":{"patch":{"tags":["authentication"],"summary":"Forgot Password","operationId":"forgot_password_api_auth_forgot_password_patch","parameters":[{"name":"email","in":"query","required":false,"schema":{"type":"string","minLength":1,"maxLength":50,"description":"Enter user email","title":"Email"},"description":"Enter user email"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/register":{"post":{"tags":["users"],"summary":"Register User","operationId":"register_user_api_user_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/reset-key/{username}":{"post":{"tags":["users"],"summary":"Reset Key","operationId":"reset_key_api_user_reset_key__username__post","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/KeyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/login":{"post":{"tags":["users"],"summary":"Login User","operationId":"login_user_api_user_login_post","parameters":[{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginCredentials"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/":{"get":{"tags":["users"],"summary":"Get User Details","operationId":"get_user_details_api_user__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserToken"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["users"],"summary":"Update User Details","operationId":"update_user_details_api_user__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserInDB"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/reset/password":{"patch":{"tags":["users"],"summary":"Update Password","operationId":"update_password_api_user_reset_password_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPasswordUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/register/staff":{"post":{"tags":["admin"],"summary":"Register User","operationId":"register_user_api_admin_register_staff_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LibrarianCreate"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/admin/staff/{user_id}/deactivate":{"put":{"tags":["admin"],"summary":"Deactivate Staff","operationId":"deactivate_staff_api_admin_staff__user_id__deactivate_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","description":"ID of the staff member to deactivate","title":"User Id"},"description":"ID of the staff member to deactivate"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/staff/{user_id}/reactivate":{"put":{"tags":["admin"],"summary":"Reactivate Staff","operationId":"reactivate_staff_api_admin_staff__user_id__reactivate_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","description":"ID of the staff member to reactivate","title":"User Id"},"description":"ID of the staff member to reactivate"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/user/{user_id}/reassign-role":{"put":{"tags":["admin"],"summary":"Reassign User Role","operationId":"reassign_user_role_api_admin_user__user_id__reassign_role_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","description":"ID of the user to reassign role","title":"User Id"},"description":"ID of the user to reassign role"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/users":{"get":{"tags":["admin"],"summary":"List Users","operationId":"list_users_api_admin_users_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of users to skip for pagination","default":0,"title":"Skip"},"description":"Number of users to skip for pagination"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"description":"Maximum number of users to return","default":100,"title":"Limit"},"description":"Maximum number of users to return"},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter users by active status","title":"Is Active"},"description":"Filter users by active status"},{"name":"role_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by role type: 'staff', 'admin', 'candidate', or leave empty for all","title":"Role Type"},"description":"Filter by role type: 'staff', 'admin', 'candidate', or leave empty for all"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_UserInDB_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/users/{user_id}":{"get":{"tags":["admin"],"summary":"Retrieve User","operationId":"retrieve_user_api_admin_users__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","description":"ID of the staff member to reactivate","title":"User Id"},"description":"ID of the staff member to reactivate"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserInDB"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/me":{"get":{"tags":["admin"],"summary":"Retrieve User","operationId":"retrieve_user_api_admin_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserToken"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/staff/me":{"get":{"tags":["staff"],"summary":"Retrieve User","operationId":"retrieve_user_api_staff_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserToken"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/staff/reset/password":{"patch":{"tags":["staff"],"summary":"Update Password","operationId":"update_password_api_staff_reset_password_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPasswordUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/book/":{"post":{"tags":["book"],"summary":"Create Book","operationId":"create_book_api_book__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["book"],"summary":"List Books","operationId":"list_books_api_book__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"title","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by title","title":"Title"},"description":"Filter by title"},{"name":"author_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by author ID","title":"Author Id"},"description":"Filter by author ID"},{"name":"publisher_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by publisher ID","title":"Publisher Id"},"description":"Filter by publisher ID"},{"name":"category_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by category ID","title":"Category Id"},"description":"Filter by category ID"},{"name":"year_from","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by publication year (from)","title":"Year From"},"description":"Filter by publication year (from)"},{"name":"year_to","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by publication year (to)","title":"Year To"},"description":"Filter by publication year (to)"},{"name":"available_only","in":"query","required":false,"schema":{"type":"boolean","description":"Show only available books","default":false,"title":"Available Only"},"description":"Show only available books"},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","description":"Sort by field: title, author, publisher, year, added_date","default":"title","title":"Sort By"},"description":"Sort by field: title, author, publisher, year, added_date"},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","description":"Sort order: asc or desc","default":"asc","title":"Sort Order"},"description":"Sort order: asc or desc"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"items_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":10,"title":"Items Per Page"},"description":"Items per page"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_BookResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/book/{book_id}":{"get":{"tags":["book"],"summary":"Get Book","operationId":"get_book_api_book__book_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"book_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Book Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["book"],"summary":"Update Book","operationId":"update_book_api_book__book_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"book_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Book Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["book"],"summary":"Delete Book","operationId":"delete_book_api_book__book_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"book_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Book Id"}}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/book/search-books/":{"get":{"tags":["book"],"summary":"Search Books","operationId":"search_books_api_book_search_books__get","parameters":[{"name":"query","in":"query","required":false,"schema":{"type":"string","description":"Search across title, ISBN, author, and publisher","title":"Query"},"description":"Search across title, ISBN, author, and publisher"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/book/authors":{"post":{"tags":["book"],"summary":"Create Author","operationId":"create_author_api_book_authors_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/book/publishers":{"post":{"tags":["book"],"summary":"Create Publisher","operationId":"create_publisher_api_book_publishers_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublisherCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublisherResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/book/categories":{"post":{"tags":["book"],"summary":"Create Category","operationId":"create_category_api_book_categories_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"name","in":"query","required":true,"schema":{"type":"string","title":"Name"}},{"name":"description","in":"query","required":false,"schema":{"type":"string","title":"Description"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/book/authors/list":{"get":{"tags":["book"],"summary":"List Authors","operationId":"list_authors_api_book_authors_list_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by author name","title":"Name"},"description":"Filter by author name"},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","description":"Sort by field: name, book_count","default":"name","title":"Sort By"},"description":"Sort by field: name, book_count"},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","description":"Sort order: asc or desc","default":"asc","title":"Sort Order"},"description":"Sort order: asc or desc"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"items_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":10,"title":"Items Per Page"},"description":"Items per page"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_AuthorResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/book/publishers/list":{"get":{"tags":["book"],"summary":"List Publishers","operationId":"list_publishers_api_book_publishers_list_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by publisher name","title":"Name"},"description":"Filter by publisher name"},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","description":"Sort by field: name, book_count","default":"name","title":"Sort By"},"description":"Sort by field: name, book_count"},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","description":"Sort order: asc or desc","default":"asc","title":"Sort Order"},"description":"Sort order: asc or desc"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"items_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":10,"title":"Items Per Page"},"description":"Items per page"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_PublisherResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/book/categories/list":{"get":{"tags":["book"],"summary":"List Categories","operationId":"list_categories_api_book_categories_list_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by category name","title":"Name"},"description":"Filter by category name"},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","description":"Sort by field: name, book_count","default":"name","title":"Sort By"},"description":"Sort by field: name, book_count"},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","description":"Sort order: asc or desc","default":"asc","title":"Sort Order"},"description":"Sort order: asc or desc"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"items_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":10,"title":"Items Per Page"},"description":"Items per page"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_CategoryResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/borrow/":{"post":{"tags":["borrow"],"summary":"Borrow Book","operationId":"borrow_book_api_borrow__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BorrowingCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BorrowingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["borrow"],"summary":"List Borrowings","operationId":"list_borrowings_api_borrow__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by user ID","title":"User Id"},"description":"Filter by user ID"},{"name":"book_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by book ID","title":"Book Id"},"description":"Filter by book ID"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/BorrowingStatus"},{"type":"null"}],"description":"Filter by return status","title":"Status"},"description":"Filter by return status"},{"name":"overdue_only","in":"query","required":false,"schema":{"type":"boolean","description":"Show only overdue borrowings","default":false,"title":"Overdue Only"},"description":"Show only overdue borrowings"},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","description":"Sort by: borrow_date, due_date, return_date","default":"borrow_date","title":"Sort By"},"description":"Sort by: borrow_date, due_date, return_date"},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","description":"Sort order: asc or desc","default":"desc","title":"Sort Order"},"description":"Sort order: asc or desc"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"items_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":10,"title":"Items Per Page"},"description":"Items per page"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_BorrowingWithBookInfo_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/borrow/{borrowing_id}/return":{"put":{"tags":["borrow"],"summary":"Return Book","operationId":"return_book_api_borrow__borrowing_id__return_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"borrowing_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Borrowing Id"}},{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BorrowingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/borrow/{borrowing_id}":{"get":{"tags":["borrow"],"summary":"Get Borrowing","operationId":"get_borrowing_api_borrow__borrowing_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"borrowing_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Borrowing Id"}},{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BorrowingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/borrow/users/me/borrowings":{"get":{"tags":["borrow"],"summary":"Get My Borrowings","operationId":"get_my_borrowings_api_borrow_users_me_borrowings_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BorrowingHistory"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/borrow/users/{user_id}/borrowings":{"get":{"tags":["borrow"],"summary":"Get User Borrowings","operationId":"get_user_borrowings_api_borrow_users__user_id__borrowings_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BorrowingHistory"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/borrow/update-overdue":{"post":{"tags":["borrow"],"summary":"Update Overdue Status","operationId":"update_overdue_status_api_borrow_update_overdue_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/borrow/books/overdue":{"get":{"tags":["borrow"],"summary":"Get Overdue Borrowings","operationId":"get_overdue_borrowings_api_borrow_books_overdue_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/BorrowingWithBookInfo"},"type":"array","title":"Response Get Overdue Borrowings Api Borrow Books Overdue Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/borrow/books/{book_id}/borrowings":{"get":{"tags":["borrow"],"summary":"Get Book Borrowing History","operationId":"get_book_borrowing_history_api_borrow_books__book_id__borrowings_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"book_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Book Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BorrowingWithBookInfo"},"title":"Response Get Book Borrowing History Api Borrow Books  Book Id  Borrowings Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AuthorCreate":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name"},"biography":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Biography"}},"type":"object","required":["name"],"title":"AuthorCreate"},"AuthorResponse":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name"},"biography":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Biography"},"author_id":{"type":"integer","title":"Author Id"}},"type":"object","required":["name","author_id"],"title":"AuthorResponse"},"BookAuthorCreate":{"properties":{"author_id":{"type":"integer","title":"Author Id"}},"type":"object","required":["author_id"],"title":"BookAuthorCreate"},"BookAuthorResponse":{"properties":{"author_id":{"type":"integer","title":"Author Id"},"author":{"anyOf":[{"$ref":"#/components/schemas/AuthorResponse"},{"type":"null"}]}},"type":"object","required":["author_id"],"title":"BookAuthorResponse"},"BookCreate":{"properties":{"isbn":{"type":"string","maxLength":20,"minLength":10,"title":"Isbn"},"title":{"type":"string","maxLength":255,"minLength":1,"title":"Title"},"publisher_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Publisher Id"},"publication_year":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Publication Year"},"category_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Category Id"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"total_copies":{"type":"integer","minimum":1.0,"title":"Total Copies","default":1},"authors":{"items":{"$ref":"#/components/schemas/BookAuthorCreate"},"type":"array","title":"Authors"}},"type":"object","required":["isbn","title","authors"],"title":"BookCreate"},"BookResponse":{"properties":{"isbn":{"type":"string","maxLength":20,"minLength":10,"title":"Isbn"},"title":{"type":"string","maxLength":255,"minLength":1,"title":"Title"},"publisher_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Publisher Id"},"publication_year":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Publication Year"},"category_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Category Id"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"total_copies":{"type":"integer","minimum":1.0,"title":"Total Copies","default":1},"book_id":{"type":"integer","title":"Book Id"},"available_copies":{"type":"integer","title":"Available Copies"},"added_date":{"type":"string","format":"date-time","title":"Added Date"},"category":{"anyOf":[{"$ref":"#/components/schemas/CategoryResponse"},{"type":"null"}]},"publisher":{"anyOf":[{"$ref":"#/components/schemas/PublisherResponse"},{"type":"null"}]},"authors":{"items":{"$ref":"#/components/schemas/BookAuthorResponse"},"type":"array","title":"Authors","default":[]}},"type":"object","required":["isbn","title","book_id","available_copies","added_date"],"title":"BookResponse"},"BookUpdate":{"properties":{"isbn":{"anyOf":[{"type":"string","maxLength":20,"minLength":10},{"type":"null"}],"title":"Isbn"},"title":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Title"},"publisher_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Publisher Id"},"publication_year":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Publication Year"},"category_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Category Id"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"total_copies":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Total Copies"},"authors":{"anyOf":[{"items":{"$ref":"#/components/schemas/BookAuthorCreate"},"type":"array"},{"type":"null"}],"title":"Authors"}},"type":"object","title":"BookUpdate"},"BorrowingCreate":{"properties":{"book_id":{"type":"integer","title":"Book Id"}},"type":"object","required":["book_id"],"title":"BorrowingCreate"},"BorrowingHistory":{"properties":{"current_borrowings":{"items":{"$ref":"#/components/schemas/BorrowingWithBookInfo"},"type":"array","title":"Current Borrowings"},"past_borrowings":{"items":{"$ref":"#/components/schemas/BorrowingWithBookInfo"},"type":"array","title":"Past Borrowings"}},"type":"object","required":["current_borrowings","past_borrowings"],"title":"BorrowingHistory"},"BorrowingResponse":{"properties":{"book_id":{"type":"integer","title":"Book Id"},"due_date":{"type":"string","format":"date-time","title":"Due Date"},"borrowing_id":{"type":"integer","title":"Borrowing Id"},"user_id":{"type":"integer","title":"User Id"},"borrow_date":{"type":"string","format":"date-time","title":"Borrow Date"},"return_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Return Date"},"status":{"$ref":"#/components/schemas/BorrowingStatus"},"book":{"anyOf":[{"$ref":"#/components/schemas/BookResponse"},{"type":"null"}]}},"type":"object","required":["book_id","due_date","borrowing_id","user_id","borrow_date","status"],"title":"BorrowingResponse"},"BorrowingStatus":{"type":"string","enum":["borrowed","returned","overdue","lost","damaged"],"title":"BorrowingStatus"},"BorrowingWithBookInfo":{"properties":{"book_id":{"type":"integer","title":"Book Id"},"due_date":{"type":"string","format":"date-time","title":"Due Date"},"borrowing_id":{"type":"integer","title":"Borrowing Id"},"user_id":{"type":"integer","title":"User Id"},"borrow_date":{"type":"string","format":"date-time","title":"Borrow Date"},"return_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Return Date"},"status":{"$ref":"#/components/schemas/BorrowingStatus"},"book_title":{"type":"string","title":"Book Title"},"book_authors":{"type":"string","title":"Book Authors"},"book_isbn":{"type":"string","title":"Book Isbn"}},"type":"object","required":["book_id","due_date","borrowing_id","user_id","borrow_date","status","book_title","book_authors","book_isbn"],"title":"BorrowingWithBookInfo"},"CategoryResponse":{"properties":{"category_id":{"type":"integer","title":"Category Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["category_id","name"],"title":"CategoryResponse"},"GenericResponse":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"GenericResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"KeyResponse":{"properties":{"api_key":{"type":"string","title":"Api Key"}},"type":"object","required":["api_key"],"title":"KeyResponse"},"LibrarianCreate":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"first_name":{"type":"string","maxLength":50,"minLength":1,"title":"First Name"},"last_name":{"type":"string","maxLength":50,"minLength":1,"title":"Last Name"},"user_id":{"type":"integer","title":"User Id"},"date_joined":{"type":"string","format":"date-time","title":"Date Joined"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["username","email","first_name","last_name","user_id","date_joined","is_active"],"title":"LibrarianCreate"},"LoginCredentials":{"properties":{"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","password"],"title":"LoginCredentials"},"PaginatedResponse":{"properties":{"data":{"items":{},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total"},"skip":{"type":"integer","title":"Skip"},"limit":{"type":"integer","title":"Limit"},"has_more":{"type":"boolean","title":"Has More"}},"type":"object","required":["data","total","skip","limit","has_more"],"title":"PaginatedResponse"},"PaginatedResponse_AuthorResponse_":{"properties":{"data":{"items":{"$ref":"#/components/schemas/AuthorResponse"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total"},"skip":{"type":"integer","title":"Skip"},"limit":{"type":"integer","title":"Limit"},"has_more":{"type":"boolean","title":"Has More"}},"type":"object","required":["data","total","skip","limit","has_more"],"title":"PaginatedResponse[AuthorResponse]"},"PaginatedResponse_BookResponse_":{"properties":{"data":{"items":{"$ref":"#/components/schemas/BookResponse"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total"},"skip":{"type":"integer","title":"Skip"},"limit":{"type":"integer","title":"Limit"},"has_more":{"type":"boolean","title":"Has More"}},"type":"object","required":["data","total","skip","limit","has_more"],"title":"PaginatedResponse[BookResponse]"},"PaginatedResponse_BorrowingWithBookInfo_":{"properties":{"data":{"items":{"$ref":"#/components/schemas/BorrowingWithBookInfo"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total"},"skip":{"type":"integer","title":"Skip"},"limit":{"type":"integer","title":"Limit"},"has_more":{"type":"boolean","title":"Has More"}},"type":"object","required":["data","total","skip","limit","has_more"],"title":"PaginatedResponse[BorrowingWithBookInfo]"},"PaginatedResponse_CategoryResponse_":{"properties":{"data":{"items":{"$ref":"#/components/schemas/CategoryResponse"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total"},"skip":{"type":"integer","title":"Skip"},"limit":{"type":"integer","title":"Limit"},"has_more":{"type":"boolean","title":"Has More"}},"type":"object","required":["data","total","skip","limit","has_more"],"title":"PaginatedResponse[CategoryResponse]"},"PaginatedResponse_PublisherResponse_":{"properties":{"data":{"items":{"$ref":"#/components/schemas/PublisherResponse"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total"},"skip":{"type":"integer","title":"Skip"},"limit":{"type":"integer","title":"Limit"},"has_more":{"type":"boolean","title":"Has More"}},"type":"object","required":["data","total","skip","limit","has_more"],"title":"PaginatedResponse[PublisherResponse]"},"PaginatedResponse_UserInDB_":{"properties":{"data":{"items":{"$ref":"#/components/schemas/UserInDB"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total"},"skip":{"type":"integer","title":"Skip"},"limit":{"type":"integer","title":"Limit"},"has_more":{"type":"boolean","title":"Has More"}},"type":"object","required":["data","total","skip","limit","has_more"],"title":"PaginatedResponse[UserInDB]"},"PasswordUpdate":{"properties":{"new_password":{"type":"string","minLength":8,"title":"New Password"}},"type":"object","required":["new_password"],"title":"PasswordUpdate"},"PublisherCreate":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"contact_info":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Info"}},"type":"object","required":["name"],"title":"PublisherCreate"},"PublisherResponse":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"contact_info":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Info"},"publisher_id":{"type":"integer","title":"Publisher Id"}},"type":"object","required":["name","publisher_id"],"title":"PublisherResponse"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"},"expires_in":{"type":"string","title":"Expires In"}},"type":"object","required":["access_token","token_type","expires_in"],"title":"Token"},"UserCreate":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"first_name":{"type":"string","maxLength":50,"minLength":1,"title":"First Name"},"last_name":{"type":"string","maxLength":50,"minLength":1,"title":"Last Name"},"password":{"type":"string","minLength":8,"title":"Password"}},"type":"object","required":["username","email","first_name","last_name","password"],"title":"UserCreate"},"UserInDB":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"first_name":{"type":"string","maxLength":50,"minLength":1,"title":"First Name"},"last_name":{"type":"string","maxLength":50,"minLength":1,"title":"Last Name"},"user_id":{"type":"integer","title":"User Id"},"date_joined":{"type":"string","format":"date-time","title":"Date Joined"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["username","email","first_name","last_name","user_id","date_joined","is_active"],"title":"UserInDB"},"UserPasswordUpdate":{"properties":{"new_password":{"type":"string","minLength":8,"title":"New Password"},"current_password":{"type":"string","title":"Current Password"}},"type":"object","required":["new_password","current_password"],"title":"UserPasswordUpdate"},"UserResponse":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"first_name":{"type":"string","maxLength":50,"minLength":1,"title":"First Name"},"last_name":{"type":"string","maxLength":50,"minLength":1,"title":"Last Name"},"user_id":{"type":"integer","title":"User Id"},"date_joined":{"type":"string","format":"date-time","title":"Date Joined"},"is_active":{"type":"boolean","title":"Is Active"},"api_key":{"type":"string","title":"Api Key"}},"type":"object","required":["username","email","first_name","last_name","user_id","date_joined","is_active","api_key"],"title":"UserResponse"},"UserToken":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"first_name":{"type":"string","maxLength":50,"minLength":1,"title":"First Name"},"last_name":{"type":"string","maxLength":50,"minLength":1,"title":"Last Name"},"user_id":{"type":"integer","title":"User Id"},"role":{"type":"integer","title":"Role"},"key_expires_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Key Expires At"}},"type":"object","required":["username","email","first_name","last_name","user_id","role"],"title":"UserToken"},"UserUpdate":{"properties":{"first_name":{"anyOf":[{"type":"string","maxLength":50,"minLength":1},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string","maxLength":50,"minLength":1},{"type":"null"}],"title":"Last Name"}},"type":"object","title":"UserUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}